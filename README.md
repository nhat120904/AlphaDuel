# ğŸ‚ AlphaDuel ğŸ»

**The On-Chain AI Debate Arena with "Skin in the Game"**

AlphaDuel is a multi-agent analytical platform that gamifies cryptocurrency market analysis. It deploys competing AI agentsâ€”a "Bull" and a "Bear"â€”to debate market trends in real-time, with predictions recorded on the Hedera blockchain.

![AlphaDuel Demo](docs/demo.gif)

## âœ¨ Features

- **Multi-Agent Debate**: Bull and Bear AI agents argue opposing market views
- **Referee Agent**: Impartial judge evaluates arguments and determines winner
- **Hedera Integration** (via [Hiero SDK](https://github.com/hiero-ledger/hiero-sdk-python)): 
  - HCS (Hedera Consensus Service) for immutable prediction logs
  - HBAR transfers for "skin in the game" wagers
- **Real-time Streaming**: Watch the debate unfold live
- **Beautiful UI**: Modern, animated interface with distinct agent personalities

## ğŸ—ï¸ Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Next.js Frontend                          â”‚
â”‚              (Vercel AI SDK + React + Tailwind)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼ SSE Streaming
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FastAPI Backend                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    LangGraph Workflow                     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚    â”‚   Bull   â”‚â—„â”€â”€â–ºâ”‚   Bear   â”‚â—„â”€â”€â–ºâ”‚ Referee  â”‚        â”‚   â”‚
â”‚  â”‚    â”‚  Agent   â”‚    â”‚  Agent   â”‚    â”‚  Agent   â”‚        â”‚   â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚         â”‚               â”‚               â”‚               â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â”‚                         â”‚                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â–¼                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚              Hedera Service (HCS + Crypto)              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Hedera Testnet                               â”‚
â”‚           (Consensus Service + Cryptocurrency Service)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ Quick Start

### Prerequisites

- Python 3.10+
- Node.js 18+
- OpenAI API Key
- (Optional) Hedera Testnet Account

### Backend Setup

```bash
cd backend

# Create virtual environment
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Copy environment file
cp .env.example .env

# Edit .env with your API keys
# OPENAI_API_KEY=sk-...
# HEDERA_ACCOUNT_ID=0.0.xxxxx (optional)
# HEDERA_PRIVATE_KEY=... (optional)

# Run the server
uvicorn app.main:app --reload --port 8000
```

### Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Run development server
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

## ğŸ”§ Configuration

### Environment Variables

#### Backend (.env)

| Variable | Description | Required |
|----------|-------------|----------|
| `OPENAI_API_KEY` | OpenAI API key for GPT models | Yes |
| `HEDERA_ACCOUNT_ID` | Hedera Testnet account ID | No* |
| `HEDERA_PRIVATE_KEY` | Hedera Testnet private key | No* |
| `HEDERA_ESCROW_ACCOUNT_ID` | Escrow account for wagers | No* |
| `TAVILY_API_KEY` | Tavily API for news search | No |
| `COINGECKO_API_KEY` | CoinGecko API key | No |

*Without Hedera credentials, the app runs in simulation mode

#### Frontend (.env.local)

| Variable | Description | Default |
|----------|-------------|---------|
| `NEXT_PUBLIC_API_URL` | Backend API URL | `http://localhost:8000` |

## ğŸ“– API Endpoints

### Start Debate (Non-streaming)
```bash
POST /api/debate/start
Content-Type: application/json

{
  "query": "What is the outlook for HBAR today?",
  "symbol": "HBAR",
  "max_rounds": 2
}
```

### Stream Debate (SSE)
```bash
POST /api/debate/stream
Content-Type: application/json

{
  "query": "Is Bitcoin a good buy right now?",
  "symbol": "BTC"
}
```

### Get Supported Symbols
```bash
GET /api/debate/symbols
```

## ğŸ¨ UI Components

- **BullBubble**: Green-themed message bubble for bullish arguments
- **BearBubble**: Red-themed message bubble for bearish arguments
- **RefereeCard**: Verdict display with Hedera transaction links
- **DebateArena**: Main chat container with auto-scroll
- **ChatInput**: Input with symbol selector and quick prompts

## ğŸ”— Hedera Integration

### Consensus Service (HCS)
Every debate prediction is logged to a Hedera Consensus Service topic, creating an immutable audit trail:

```json
{
  "type": "AlphaDuel_Prediction",
  "symbol": "HBAR",
  "winner": "Bull",
  "confidence": 75,
  "wager_amount": 7.5,
  "market_snapshot": {
    "price": 0.0725,
    "rsi": 45.2
  }
}
```

### Cryptocurrency Service
The wager amount (based on confidence) is transferred from the agent's wallet to an escrow account, proving "skin in the game."

View transactions on [HashScan Testnet](https://hashscan.io/testnet).

## ğŸ› ï¸ Development

### Project Structure

```
AlphaDuel/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agents/          # Bull, Bear, Referee agents
â”‚   â”‚   â”œâ”€â”€ models/          # Pydantic models
â”‚   â”‚   â”œâ”€â”€ routes/          # API endpoints
â”‚   â”‚   â”œâ”€â”€ services/        # Hedera, Market Data services
â”‚   â”‚   â””â”€â”€ main.py          # FastAPI app
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/             # Next.js pages
â”‚   â”‚   â”œâ”€â”€ components/      # React components
â”‚   â”‚   â”œâ”€â”€ hooks/           # Custom hooks
â”‚   â”‚   â””â”€â”€ lib/             # Utilities
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md
```

### Running Tests

```bash
# Backend tests
cd backend
pytest

# Frontend tests
cd frontend
npm test
```

## ğŸ† Hackathon Highlights

1. **LangGraph Multi-Agent System**: Advanced AI agent orchestration with debate loops
2. **Hedera Native Integration**: Real blockchain transactions, not just demos
3. **Streaming UX**: Watch agents "think" in real-time
4. **Accountability**: AI predictions with financial consequences

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) for details.

## ğŸ¤ Contributing

Contributions welcome! Please read our [Contributing Guide](CONTRIBUTING.md) first.

---

Built with â¤ï¸

